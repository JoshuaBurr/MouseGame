<!DOCTYPE html>
<html>
<body>
<script>
//-------------------------------Variable declarations and initializations
var canvas = document.createElement('canvas');
var width = 600;
var height = 300;
canvas.width = width;
canvas.height = height;
var context = canvas.getContext('2d');
window.onload = function(){document.body.appendChild(canvas);};
var player1x;
var oldx;
var player1y;
var oldy;
player1x = 50;
oldx = player1x;
player1y = 100;
oldy = player1y;
var drag=false;
var y;
//--------------------------------------Function declarations
context.fillStyle="orange";
context.fillRect(0,0,width,height);
setInterval(RenderScreen, 20);
function RenderScreen()
    {
    context.fillStyle = "orange";
    context.fillRect(oldx, oldy, 20,30);
    context.fillStyle = "purple";
    context.fillRect(player1x, player1y, 20,30);
    context.fillStyle = "green";
    context.fillRect(0, height-10, width, 10);
    oldx= player1x;
    oldy= player1y;
      if(!drag){
        player1y += 1;
      }
      if(player1y > height - 10 - 30){
        player1y = height - 10 - 30
      }
    }
function mouseDown(e)
    {
    drag=true;
    }
function mouseUp()
    {
    drag=false;
        RenderScreen()
    }
function mouseMove(e)
    {
    if(drag)
      {
      mouseX=e.clientX;
      mouseY=e.clientY;
      player1x=mouseX;
      player1y=mouseY;
      RenderScreen()
      }
    }
//-------------------------------------Main Program
canvas.addEventListener('mouseup',mouseUp, false);
canvas.addEventListener('mousemove',mouseMove, false);
canvas.addEventListener('mousedown',mouseDown, false);

RenderScreen();
</script>
</body>
</html>
